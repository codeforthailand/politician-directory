{"version":3,"sources":["webpack://politician-directory/./src/components/peopleAvatar.js","webpack://politician-directory/./src/components/peopleStatus.js","webpack://politician-directory/./src/components/peopleVote.js","webpack://politician-directory/./src/components/profile/officialWebsite.js","webpack://politician-directory/./src/utils/index.js","webpack://politician-directory/./node_modules/lodash/compact.js","webpack://politician-directory/./src/templates/people-template.module.css"],"names":["title","name","lastname","peopleImages","useStaticQuery","alt","placeHolderImageNode","edges","find","node","personImageNode","G","image","getImage","isActive","css","height","width","backgroundColor","getStatusColor","borderRadius","display","margin","marginLeft","color","getTextColor","getText","cssSectionWhite","paddingBottom","background","filterChoice","text","choice","voteColor","voteText","PeopleVoteCard","fields","vote_date","legal_title","Link","to","slug","padding","fontSize","border","borderLeft","textDecoration","marginRight","formatDate","PeopleVote","state","allVote","props","activeFilter","handleFilter","o","String","setState","render","this","paddingTop","className","map","key","onClick","style","borderBottomColor","length","vote","id","Component","peopleVoteYaml","allVotelogYaml","voteLogs","votelog","allVotes","nodes","forEach","matchedVotelog","value","sortedAllVotes","filter","sort","a","b","localeCompare","cssLinkBox","fontFamily","fontWeight","profile","items","official","href","dt","dayjs","format","formatNumber","num","toString","replace","formatOrdinalNumber","ord","s","slice","sortThaiLocale","peopleSlug","fullname","ageFromBirthdate","birthdate","diff","motionCategorySlug","subCategory","arrangeData","data","template","options","valueKey","col","i","item","label","loadCategoryStats","education","occupation_group","input","gender","age","asset","mp_type","x","main_occupation_group","restMin","unknownIndex","unknown","splice","parseInt","temp","count_others","idx","push","combineCategory","oc","includes","group","ageBin","today","year","y","birthdayToAgeHistogram","bins","prev_lowerbound","lowerbound","assets","max","Number","POSITIVE_INFINITY","bin","assetHistogram","filterVote","peopleVotelog","p","joinPeopleVotelog","people","peopleVotelogs","votelogs","limit","votelogByPeople","allPeople","person","approve","disprove","abstained","absent","filteredVoteResult","total_voter","module","exports","array","index","resIndex","result","hr"],"mappings":"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","file":"component---src-templates-people-template-js-5c5e6d14ae0b608dae57.js","sourcesContent":["import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\n\nconst PeopleAvatar = ({ title = \"\", name, lastname }) => {\n  const { peopleImages } = useStaticQuery(graphql`\n    query {\n      peopleImages: allFile(\n        filter: { relativeDirectory: { eq: \"images/people\" } }\n      ) {\n        edges {\n          node {\n            name\n            childImageSharp {\n              gatsbyImageData(width: 160)\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  const alt = title ? `${title} ${name} ${lastname}` : `${name} ${lastname}`\n\n  const placeHolderImageNode = peopleImages.edges.find(\n    ({ node }) => node.name === \"placeholder\"\n  )\n\n  const personImageNode = peopleImages.edges.find(\n    ({ node }) => node.name === `${name}-${lastname}`\n  )\n\n  return (\n    <GatsbyImage\n      image={getImage((personImageNode || placeHolderImageNode).node)}\n      alt={alt}\n    />\n  )\n}\n\nexport default PeopleAvatar\n","import React from \"react\"\n\nconst PeopleStatus = ({ isActive }) => {\n  const getStatusColor = isActive => {\n    return isActive ? \"var(--cl-vote-yes)\" : \"var(--cl-vote-abstained)\"\n  }\n\n  const getTextColor = isActive => {\n    return isActive ? \"var(--cl-vote-yes)\" : \"var(--cl-black)\"\n  }\n\n  const getText = isActive => {\n    return isActive ? \"อยู่ในตำแหน่ง\" : \"พ้นจากตำแหน่ง\"\n  }\n\n  return (\n    <div\n      css={{\n        boxSizing: \"border-box\",\n        width: \"18rem\",\n        border: \"1px solid var(--cl-gray-3)\",\n        borderRadius: \"5px\",\n        margin: \"1.5rem auto\",\n        fontWeight: \"bold\",\n        lineHeight: \"1.4\",\n      }}\n    >\n      <span>สถานะ</span>\n      <span\n        css={{\n          height: \"0.8rem\",\n          width: \"0.8rem\",\n          backgroundColor: getStatusColor(isActive),\n          borderRadius: \"50%\",\n          display: \"inline-block\",\n          margin: \"0.1rem\",\n          marginLeft: \"1rem\",\n        }}\n      ></span>\n      <span css={{ color: getTextColor(isActive) }}>{getText(isActive)}</span>\n    </div>\n  )\n}\n\nexport default PeopleStatus\n","import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\nimport _ from \"lodash\"\n\nimport { formatDate } from \"../utils\"\n\nconst cssSection = { paddingBottom: \"8rem\" }\nconst cssSectionWhite = {\n  ...cssSection,\n  background: \"var(--cl-white)\",\n}\n\nconst filterChoice = [\n  { text: \"ทั้งหมด\", choice: 0 },\n  { text: \"เห็นด้วย\", choice: 1 },\n  { text: \"ไม่เห็นด้วย\", choice: 2 },\n  { text: \"งดออกเสียง\", choice: 3 },\n  { text: \"ไม่ลงคะแนน\", choice: 4 },\n]\n\nconst voteColor = {\n  \"1\": \"var(--cl-vote-yes)\",\n  \"2\": \"var(--cl-vote-no)\",\n  \"3\": \"var(--cl-vote-abstained)\",\n  \"4\": \"#272727\",\n  \"\": \"-\",\n}\n\nconst voteText = {\n  \"1\": \"เห็นด้วย\",\n  \"2\": \"ไม่เห็นด้วย\",\n  \"3\": \"งดออกเสียง\",\n  \"4\": \"ไม่ลงคะแนน\",\n  \"\": \"-\",\n}\n\nconst PeopleVoteCard = ({ choice, fields, title, legal_title, vote_date }) => (\n  <Link\n    to={fields.slug}\n    css={{\n      display: \"block\",\n      color: \"var(--cl-black)\",\n      padding: \"0.5rem 2rem\",\n      fontSize: \"2.4rem\",\n      borderRadius: 4,\n      border: \"1px solid black\",\n      borderLeft: `1rem solid ${voteColor[choice]}`,\n      margin: \"20px 0px\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n      },\n    }}\n  >\n    <div\n      css={{\n        color: choice === \"3\" ? \"var(--cl-black)\" : voteColor[choice],\n        margin: \"15px 0px\",\n        fontSize: \"2.4rem\",\n      }}\n    >\n      <div\n        css={{\n          display: \"inline-block\",\n          height: 15,\n          width: 15,\n          marginRight: 10,\n          backgroundColor: voteColor[choice],\n        }}\n      ></div>\n      {voteText[choice]}\n    </div>\n    <p css={{ fontFamily: \"var(--ff-title)\", fontSize: \"2.4rem\" }}>{title}</p>\n    <p css={{ fontSize: \"1.5rem\", margin: \"15px 0px\" }}>\n      {formatDate(vote_date)}\n    </p>\n  </Link>\n)\n\nclass PeopleVote extends Component {\n  state = {\n    allVote: this.props.allVote,\n    activeFilter: 0,\n  }\n\n  handleFilter = choice => {\n    let allVote = this.props.allVote\n    if (choice === 0) {\n      this.setState({ allVote, activeFilter: choice })\n    } else {\n      allVote = _.filter(allVote, function(o) {\n        return o[\"choice\"] === String(choice)\n      })\n      this.setState({ allVote, activeFilter: choice })\n    }\n  }\n\n  render() {\n    const { allVote, activeFilter } = this.state\n    return (\n      <section\n        css={{\n          ...cssSectionWhite,\n          paddingTop: \"6rem\",\n        }}\n      >\n        <div className=\"container\">\n          <h2\n            css={{\n              fontSize: \"4.8rem\",\n              textAlign: \"center\",\n              marginBottom: \"3rem\",\n            }}\n          >\n            สรุปการลงมติในสภา\n          </h2>\n          <ul\n            css={{\n              display: \"block\",\n              listStyle: \"none\",\n              textAlign: \"center\",\n              \"> li\": {\n                display: \"inline-block\",\n                fontSize: \"2.4rem\",\n                padding: \"1rem 0 0\",\n                margin: \"0 1rem\",\n                cursor: \"pointer\",\n                \"&.active\": {\n                  borderBottom: \"8px solid var(--cl-black)\",\n                },\n              },\n            }}\n          >\n            {filterChoice.map(({ text, choice }) => (\n              <li\n                key={choice}\n                className={activeFilter === choice ? \"active\" : \"\"}\n                onClick={() => this.handleFilter(choice)}\n                style={\n                  activeFilter === choice\n                    ? {\n                        borderBottomColor: voteColor[choice],\n                      }\n                    : null\n                }\n              >\n                {text}\n              </li>\n            ))}\n          </ul>\n          {allVote.length > 0 ? (\n            allVote.map(vote => (\n              <PeopleVoteCard key={vote.id} {...vote}></PeopleVoteCard>\n            ))\n          ) : (\n            <div\n              css={{\n                fontFamily: \"var(--ff-title)\",\n                fontSize: \"3.2rem\",\n                textAlign: \"center\",\n                margin: \"6rem 0\",\n              }}\n            >\n              ยังไม่เคยลงมติประเภทนี้\n            </div>\n          )}\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default ({ peopleVoteYaml, allVotelogYaml }) => {\n  const voteLogs = peopleVoteYaml.votelog || []\n  const allVotes = [...allVotelogYaml.nodes]\n  // merge allVote and voteLog into allVote\n  allVotes.forEach(vote => {\n    const matchedVotelog = _.find(voteLogs, [\"key\", vote.id])\n    if (matchedVotelog) {\n      vote.choice = matchedVotelog.value\n    }\n  })\n  const sortedAllVotes = allVotes\n    .filter(vote => vote.choice)\n    .sort((a, b) => {\n      return b.vote_date.localeCompare(a.vote_date)\n    })\n\n  return <PeopleVote allVote={sortedAllVotes} />\n}\n","import React from \"react\"\nimport _ from \"lodash\"\nimport ExternalLink from \"../externalLink\"\n\nconst cssLinkBox = {\n  fontSize: \"1.7rem\",\n  fontFamily: \"var(--ff-title)\",\n  fontWeight: \"bold\",\n  textDecoration: \"none\",\n  border: \"1px solid var(--cl-black)\",\n  marginRight: \"1rem\",\n  padding: \"0 1rem\",\n  color: \"var(--cl-black)\",\n  \"&:hover\": {\n    textDecoration: \"none\",\n  },\n}\n\n// component to show official websites\nconst OfficialWebsite = profile => {\n  const items = _.compact(\n    [\"website\", \"facebook\", \"twitter\"].map(key => {\n      const official = profile[key]\n      if (!official) return null\n      return (\n        <ExternalLink key={key} href={official} css={{ ...cssLinkBox }}>\n          {_.startCase(key)}\n        </ExternalLink>\n      )\n    })\n  )\n  return (\n    <div className=\"official-website\">\n      {items.length > 0 ? items : \"ไม่มีข้อมูล\"}\n    </div>\n  )\n}\n\nexport default OfficialWebsite\n","import dayjs from \"dayjs\"\nimport _ from \"lodash\"\n\n/**\n * Format date\n * @param {Date,String,dayjs} date\n */\nexport function formatDate(dt) {\n  return dayjs(dt).format(\"DD.MM.YYYY\")\n}\n\n/**\n * Format number with thousands\n * @param {Number} num\n */\nexport function formatNumber(num) {\n  return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\n}\n\n/**\n * Format ordinal number e.g. 2 => 2nd, 3 => 3rd\n * @param {Number} num\n */\nexport function formatOrdinalNumber(num) {\n  const s = num.toString()\n  const n = s.slice(-1)\n  let ord\n  switch (n) {\n    case \"1\":\n      ord = \"st\"\n      break\n    case \"2\":\n      ord = \"nd\"\n      break\n    case \"3\":\n      ord = \"rd\"\n      break\n    default:\n      ord = \"th\"\n  }\n  return `${s}<sup>${ord}</sup>`\n}\n\n/**\n * Comparator function to use in Array.sort(sortThaiLocale)\n * @param {People} a Person object\n * @param {People} b Person object\n */\nexport function sortThaiLocale(a, b) {\n  return a.name === b.name\n    ? a.lastname.localeCompare(b.lastname, \"th\")\n    : a.name.localeCompare(b.name, \"th\")\n}\n\n/**\n * Create people profile slug\n * @param {String} fullname\n */\nexport function peopleSlug(fullname) {\n  if (!fullname) return \"\"\n  return `/people/${fullname.replace(/ /g, \"-\")}`\n}\n\n/**\n * Calcaulate person's age from his/her birthdaty\n * @param {String, Date} birthdate Date format accepted by dayjs\n */\nexport function ageFromBirthdate(birthdate) {\n  return dayjs().diff(dayjs(birthdate), \"year\")\n}\n\n/**\n * For fun. Change arabic number to Thai reading\n * @param {Number} number\n */\nexport function getThaiName(number) {\n  const mapping = d => {\n    switch (d) {\n      case \"0\":\n        return \"ศูนย์\"\n      case \"1\":\n        return \"หนึ่ง\"\n      case \"2\":\n        return \"สอง\"\n      case \"3\":\n        return \"สาม\"\n      case \"4\":\n        return \"สี่\"\n      case \"5\":\n        return \"ห้า\"\n      case \"6\":\n        return \"หก\"\n      case \"7\":\n        return \"เจ็ด\"\n      case \"8\":\n        return \"แปด\"\n      case \"9\":\n        return \"เก้า\"\n      default:\n        return \"ว่าง\"\n    }\n  }\n  const digits = String(number)\n  return _.map(digits, d => mapping(d)).join(\"\")\n}\n\n/**\n * Create motion category slug\n * @param {String} subCategory\n */\nexport function motionCategorySlug(subCategory) {\n  if (!subCategory) return \"\"\n  return `${subCategory.replace(/ /g, \"-\")}`\n}\n\nexport function float2Grey(x) {\n  x = 1 - x\n  x = parseInt(x * 15)\n  x = x.toString(16)\n  return \"#\" + x + x + x\n}\n\nexport function calculateBackground(input) {\n  let count = input.length - 1\n  input.forEach((x, idx) => {\n    x.background = float2Grey(idx / count)\n  })\n  return input\n}\n\nexport function combineCategory(input, restMin = 3) {\n  // first, split 'unknown' and other values\n  const unknownIndex = _.findIndex(input, [\"name\", \"ไม่พบข้อมูล\"])\n  const [unknown] = unknownIndex >= 0 ? input.splice(unknownIndex, 1) : []\n\n  // sort the rest by m\n  input.sort((a, b) => parseInt(b.value) - parseInt(a.value))\n  let temp = []\n  let count_others = 0\n  input.map((x, idx) => {\n    if (idx > restMin - 1) {\n      count_others += x.value\n    } else {\n      temp.push(x)\n    }\n    return x\n  })\n  if (count_others > 0) {\n    temp.push({ value: count_others, name: \"อื่นๆ\" })\n  }\n  input = temp\n\n  // lastly, put 'unknown' back as the last item\n  if (unknown) {\n    input.push(unknown)\n  }\n  return input\n}\n\nexport function padCategory(input) {\n  input.map(x => {\n    if (!x.name) {\n      x.name = \"ไม่พบข้อมูล\"\n    }\n    return x\n  })\n  return input\n}\n\nexport function assetHistogram(edges, bins = [10, 100, 1000]) {\n  const unknown = { name: \"ไม่พบข้อมูล\", value: 0 }\n  let lowerbound = -1\n  let prev_lowerbound\n  const assets = [\n    ...bins.map(max => {\n      prev_lowerbound = lowerbound + 1\n      lowerbound = max\n      return {\n        name: `${prev_lowerbound}-${max} ล้านบาท`,\n        value: 0,\n        max: max * 1e6,\n      }\n    }),\n    {\n      name: `${bins[bins.length - 1] + 1} ล้านบาทขึ้นไป`,\n      value: 0,\n      max: Number.POSITIVE_INFINITY,\n    },\n  ]\n  edges.forEach(({ node }) => {\n    if (typeof node.asset === \"number\" && node.asset >= 0) {\n      for (const bin of assets) {\n        if (node.asset <= bin.max) {\n          bin.value++\n          break\n        }\n      }\n    } else {\n      unknown.value++\n    }\n  })\n  return [...assets, unknown]\n}\n\nexport function birthdayToAgeHistogram(birthdate, ageBin = [39, 55, 74]) {\n  let age = []\n  age.push({\n    name: String(\"25-\" + String(ageBin[0] - 1)) + \" ปี\",\n    value: 0,\n  })\n  age.push({\n    name: String(ageBin[0]) + \"-\" + String(ageBin[1] - 1) + \" ปี\",\n    value: 0,\n  })\n  age.push({\n    name: String(ageBin[1]) + \"-\" + String(ageBin[2] - 1) + \" ปี\",\n    value: 0,\n  })\n  age.push({ name: String(ageBin[2]) + \" ปีขึ้นไป\", value: 0 })\n  const today = dayjs().year()\n  birthdate.map(x => {\n    const y = dayjs(x.node.birthdate).year()\n    const a = today - y\n    if (a < ageBin[0]) {\n      age[0].value++\n    } else if (a < ageBin[1]) {\n      age[1].value++\n    } else if (a < ageBin[2]) {\n      age[2].value++\n    } else {\n      age[3].value++\n    }\n    return x\n  })\n  return age\n}\n\n/**\n * Template is an ordered list of columns to sort and set color\n * template = [\n *   { name: 'Male', label: 'เพศชาย', background: 'blue' },\n *   { name: 'Female', label: 'เพศหญฺิง', background: 'red' },\n * ]\n *\n * Where\n * - `name` is a group value to match\n * - `label`, if specified, use this value as a label name instead of value of `name`\n * - `background` set color for this stack\n * @param {*} data\n * @param {Array} template\n */\nexport function arrangeData(data, template, options = {}) {\n  options = {\n    valueKey: \"name\",\n    ...options,\n  }\n  return _.compact(\n    template.map((col, i) => {\n      const item = _.find(data || [], [options.valueKey, col.name])\n      if (!item) return null\n      return {\n        ...item,\n        name: col.label || col.name,\n        background: col.background,\n      }\n    })\n  )\n}\n\nexport function loadCategoryStats(data) {\n  let education\n  if (_.get(data, \"education.group\")) {\n    education = [..._.get(data, \"education.group\")]\n    education = arrangeData(education, [\n      { name: \"ต่ำกว่าปริญญาตรี\", background: \"var(--cl-theme-1)\" },\n      { name: \"สถาบันทหาร\", background: \"var(--cl-theme-2)\" },\n      { name: \"ปริญญาตรี\", background: \"var(--cl-theme-3)\" },\n      { name: \"ปริญญาโท\", background: \"var(--cl-theme-4)\" },\n      { name: \"ปริญญาเอก\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let occupation_group\n  if (_.get(data, \"occupation_group.group\")) {\n    occupation_group = [..._.get(data, \"occupation_group.group\")]\n    occupation_group = padCategory(occupation_group)\n    occupation_group = combineCategory(occupation_group)\n    const main_occupation_group = occupation_group.filter(\n      oc => ![\"อื่นๆ\", \"ไม่พบข้อมูล\"].includes(oc.name)\n    )\n    occupation_group = arrangeData(occupation_group, [\n      ...main_occupation_group.slice(0, 3).map((group, i) => ({\n        name: group.name,\n        background: `var(--cl-theme-${2 + i})`,\n      })),\n      { name: \"อื่นๆ\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let gender\n  if (_.get(data, \"gender.group\")) {\n    gender = [..._.get(data, \"gender.group\")]\n    gender = arrangeData(gender, [\n      { name: \"ชาย\", background: \"var(--cl-theme-2)\" },\n      { name: \"หญิง\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let age\n  if (_.get(data, \"age.edges\")) {\n    age = [..._.get(data, \"age.edges\")]\n    age = birthdayToAgeHistogram(age)\n    age = arrangeData(age, [\n      { name: \"25-38 ปี\", background: \"var(--cl-theme-2)\" },\n      { name: \"39-54 ปี\", background: \"var(--cl-theme-3)\" },\n      { name: \"55-73 ปี\", background: \"var(--cl-theme-4)\" },\n      { name: \"74 ปีขึ้นไป\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let asset\n  if (_.get(data, \"asset.edges\")) {\n    asset = [..._.get(data, \"asset.edges\")]\n    asset = assetHistogram(asset)\n    asset = arrangeData(asset, [\n      { name: \"0-10 ล้านบาท\", background: \"var(--cl-theme-2)\" },\n      { name: \"11-100 ล้านบาท\", background: \"var(--cl-theme-3)\" },\n      { name: \"101-1000 ล้านบาท\", background: \"var(--cl-theme-4)\" },\n      { name: \"1001 ล้านบาทขึ้นไป\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let mp_type\n  if (_.get(data, \"mp_type.group\")) {\n    mp_type = [..._.get(data, \"mp_type.group\")]\n    mp_type = arrangeData(mp_type, [\n      { name: \"บัญชีรายชื่อ\", background: \"var(--cl-theme-2)\" },\n      { name: \"แบ่งเขต\", background: \"var(--cl-theme-5)\" },\n    ])\n  }\n\n  return {\n    gender,\n    asset,\n    age,\n    education,\n    occupation_group,\n    mp_type,\n  }\n}\n\nexport function filterVote(peopleVotelog, key, value) {\n  return _.filter(peopleVotelog, o => {\n    return (\n      _.get(\n        _.find(o.votelog || [], p => p.key === key),\n        \"value\"\n      ) === value\n    )\n  })\n}\n\nexport function joinPeopleVotelog(people, peopleVotelogs, votelogs, limit = 6) {\n  const votelogByPeople = peopleVotelogs.edges.map(({ node }) => node)\n  const allPeople = people.edges.map(({ node: person }) => {\n    const vote = _.find(votelogByPeople, [\"id\", person.id])\n    return {\n      ...person,\n      ...vote,\n    }\n  })\n\n  return votelogs.edges\n    .map(({ node: votelog }) => {\n      const approve = filterVote(allPeople, votelog.id, \"1\").length\n      const disprove = filterVote(allPeople, votelog.id, \"2\").length\n      const abstained = filterVote(allPeople, votelog.id, \"3\").length\n      const absent = filterVote(allPeople, votelog.id, \"4\").length\n      const filteredVoteResult = {\n        approve,\n        disprove,\n        abstained,\n        absent,\n        total_voter: approve + disprove + abstained + absent,\n      }\n      return {\n        ...votelog,\n        ...filteredVoteResult,\n      }\n    })\n    .filter(({ total_voter }) => total_voter > 0)\n    .slice(0, limit)\n}\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n","// extracted by mini-css-extract-plugin\nexport var hr = \"people-template-module--hr--2VKGq\";\nexport var card = \"people-template-module--card--SR3U-\";"],"sourceRoot":""}